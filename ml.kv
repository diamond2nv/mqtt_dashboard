#:kivy 1.11.1
<Label>:
    font_name:"fonts/modern.ttf"
<TextInput>:
    font_name:"fonts/modern.ttf"

<TextInputS@TextInput>:
    background_color:1,1,1,.1
    foreground_color:0,1,1,1
    halign:"center"
    valign:"middle"
    text_size:self.size
    multiline:False
<Garis@Label>
    size_hint:1,None
    height:"2sp"
    canvas:
        Color:
            rgba:0,1,1,1
        Rectangle:
            size:self.size
            pos:self.pos
<Ml>:
    NavigationDrawer
        anim_type:'slide_above_simple'
        id:nd
        BoxLayout:
            padding:5
            spacing:5
            orientation:"vertical"
            canvas.before:
                Color:
                    rgba:1,1,1,.3
                Rectangle:
                    size:self.size
                    pos:self.pos
                    source:"img/01.jpg"
            BoxLayout:
                orientation:"vertical"
                BoxLayout:
                    orientation:"vertical"
                    FloatLayout:
                        BoxLayout:
                            pos_hint:{"center_x":.5,"center_y":.5}
                            orientation:"vertical"
                            Image:
                                source:"img/sbypy.png"
                                color:0,1,1,1
                            BoxLayout:
                                orientation:"vertical"
                                size_hint:1,.3
                                Label:
                                    text:"surabaya.py"
                                    color:0,1,1,1
                                    halign:"center"
                                    valign:"top"
                                    text_size:self.size
                                    font_size:self.height/1.5
                            
                                          
                            Garis
                BoxLayout:
                    spacing:5
                    orientation:"vertical"
                    Label:
                        size_hint:1,.05
                    FloatLayout
                        canvas:
                            Color:
                                rgba:.3,.3,.3,.3
                            Rectangle:
                                size:self.size
                                pos:self.pos
                        Image:
                            source:"img/cloud.png"
                            color:0,1,1,1    
                            pos_hint:{"x":0,"center_y":.5}
                            size_hint:.15,1
                        TextInputS
                            pos_hint:{"center_x":.5,"center_y":.5}
                            id:ti
                            halign:"center"
                            valign:"middle"
                            text_size:self.size
                            multiline:False
                            on_focus:root.start_connect(self.text,self.focus)
                            text:root.server
                            font_size:self.height/4
                            background_color:0,0,0,0
                        Label
                            pos_hint:{"center_x":.5,"center_y":.5}
                            id:ti
                            halign:"center"
                            valign:"bottom"
                            text_size:self.size
                            text:root.mqtt_state
                            font_size:self.height/4
                            background_color:0,0,0,0
                            color:0,1,1,1
                        
                    FloatLayout
                        Image:
                            pos_hint:{"x":0,"center_y":.5}
                            source:"img/add.png"
                            size_hint:.15,1
                            color:0,1,1,1
                        Button:
                            color:0,1,1,1
                            text:"   add widget"
                            pos_hint:{"center_x":.5,"center_y":.5}
                            background_color:1,1,1,.3
                            font_size:self.height/3
                            on_press:
                                pc.posisi=.5
                                nd.toggle_state(False)
                    Label
                    # Label
                    
                Label
                Label
        FloatLayout
            BoxLayout
                pos_hint:{"center_x":.5,"center_y":.5}
                spacing:5
                padding:5
                orientation:"vertical"
                canvas.before:
                    Color:
                        rgba:1,1,1,.8
                    Rectangle:
                        size:self.size
                        pos:self.pos
                        source:"img/01.jpg"
                BoxLayout
                    size_hint:1,.07
                    canvas:
                        Color:
                            rgba:.3,.3,.3,.3
                        Rectangle:
                            size:self.size
                            pos:self.pos
                    BtnImg:
                        source:"img/menu.png"
                        size_hint:.15,1
                        on_release:nd.toggle_state(True)
                        color:0,1,1,1
                        # canvas:
                        #     Color:
                        #         rgba:0,1,1,1
                        #     Rectangle:
                        #         size:self.size
                        #         pos:self.pos
                        #         source:"img/menu.png"
                    Label
                        font_size:self.height/2
                        # font_name:"fonts/modern.ttf"
                        text:"  Mqtt for Micropython"
                        halign:"left"
                        valign:"middle"
                        text_size:self.size
                        color:0,1,1,1
                    Image:
                        source:"img/sbypy.png"
                        size_hint:.2,1
                        color:0,1,1,1
                        canvas.before:
                            PushMatrix
                            Rotate:
                                angle: root.putar_icon
                                origin: self.center
                        canvas.after:
                            PopMatrix

                Garis:
                ScrollView:
                    do_scroll_y: True
                    BoxLayout:
                        id:root_widget
                        pos_hint:{"center_x":.5,"center_y":.5}
                        spacing:5
                        size_hint:1,None
                        height:self.minimum_height
                        orientation:"vertical"

            PopChoise:
                id:pc
            
                    # root.add()
                    # app.
            PopExit:
                id:popexit